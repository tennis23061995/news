{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\home\\controller\\index.js"
    ],
    "names": [
        "pad",
        "value",
        "parseInt",
        "getAttrFromString",
        "str",
        "node",
        "attr",
        "regex",
        "RegExp",
        "result",
        "res",
        "exec",
        "push",
        "categoriesAction",
        "model",
        "order",
        "select",
        "items",
        "content",
        "urls",
        "think",
        "isEmpty",
        "item",
        "url",
        "urlrewrite",
        "id",
        "lM",
        "Date",
        "lastmodified",
        "lastM",
        "getFullYear",
        "getMonth",
        "slice",
        "getDate",
        "getHours",
        "getMinutes",
        "getSeconds",
        "obj",
        "lastmodISO",
        "changefreq",
        "priority",
        "sm",
        "require",
        "createSitemap",
        "hostname",
        "cacheTime",
        "toString",
        "header",
        "end",
        "tagsAction",
        "sitemaparticleAction",
        "sitemaps",
        "lstsm",
        "ct",
        "ctlastM",
        "loc",
        "lastMod",
        "ctime",
        "createtime",
        "console",
        "log",
        "smindex",
        "data",
        "do",
        "status",
        "indexes",
        "articleAction",
        "get",
        "aurl",
        "substring",
        "where",
        "ispublished",
        "imgs",
        "videos",
        "itemurlrewrite",
        "vds",
        "images",
        "alts",
        "i",
        "length",
        "ig",
        "caption",
        "title",
        "geoLocation",
        "license",
        "img",
        "indexAction",
        "findOne",
        "setting",
        "assign",
        "displayView",
        "getvideoAction",
        "post",
        "success",
        "getnewsAction",
        "category",
        "findAll",
        "parentid",
        "lstcategory",
        "categories",
        "rejectarticles",
        "itemname",
        "style",
        "limit",
        "topList",
        "rejectnews",
        "newsList",
        "fetch",
        "newsList1",
        "menuAction",
        "pagenumber",
        "pagesize",
        "arrU",
        "split",
        "itemId",
        "splice",
        "join",
        "parentids",
        "getPageSelect",
        "itemList",
        "getPageCountSelect",
        "Page",
        "adapter",
        "page",
        "http",
        "pageData",
        "pagination",
        "cate",
        "ca",
        "categoryparent",
        "pageAction",
        "aid",
        "aurlrewrite",
        "curl",
        "arrC",
        "cid",
        "curlrewrite",
        "menuInfo",
        "blogInfo",
        "name",
        "author",
        "acc",
        "html",
        "strArray",
        "particle",
        "ainfo",
        "pid",
        "indexOf",
        "getArticleList",
        "relatearticle",
        "strArrayVal",
        "particleVal",
        "source",
        "getReplyListInfo",
        "tid",
        "replyList",
        "session",
        "uinfo",
        "loginuserinfo",
        "type",
        "iscollect",
        "collectList",
        "tags",
        "keywords",
        "listtags",
        "tag",
        "JSON",
        "parse",
        "tagname",
        "previewAction",
        "newsAction",
        "getList",
        "nodeAction",
        "downloadAction",
        "activityAction",
        "othersAction",
        "jobsAction",
        "menu",
        "moreAction",
        "murl",
        "replace",
        "lsttags",
        "categoryAction",
        "linkssaveAction",
        "mydata",
        "domain",
        "link",
        "qq",
        "addRecord",
        "rs",
        "guestsaveAction",
        "nickname",
        "contact",
        "guest",
        "guestAction",
        "aboutAction",
        "adsAction",
        "copyrightAction",
        "linksAction",
        "policyAction",
        "donateAction",
        "dologoutAction",
        "redirect",
        "sitemapAction",
        "sysdata",
        "list",
        "article",
        "topic",
        "user",
        "others",
        "homeurl",
        "createXml",
        "liblogAction",
        "savereplyAction",
        "marked",
        "setOptions",
        "renderer",
        "Renderer",
        "gfm",
        "tables",
        "breaks",
        "pedantic",
        "sanitize",
        "smartLists",
        "smartypants",
        "mycreatetime",
        "datetime",
        "text",
        "json",
        "errno",
        "errmsg",
        "comment",
        "isexist",
        "updata",
        "updatetime",
        "updateauthor",
        "updatepic",
        "pic",
        "updateRecord",
        "fail",
        "add",
        "increpoint",
        "config",
        "points",
        "increment",
        "replycount",
        "removereplyAction",
        "myid",
        "delete",
        "decrement",
        "postlikeAction",
        "liker",
        "likers",
        "arr",
        "n",
        "newlikers",
        "m",
        "update",
        "like",
        "likeCount"
    ],
    "mappings": "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",
    "file": "..\\..\\..\\src\\home\\controller\\index.js",
    "sourcesContent": [
        "'use strict';\n\nimport Base from './base.js';\nimport Create from './sitemap.js';\nfunction pad(value) {\n    if(parseInt(value) < 10) {\n        return '0' + value;\n    } else {\n        return value;\n    }\n}\nfunction getAttrFromString(str, node, attr) {\n    var regex = new RegExp('<' + node + ' .*?' + attr + '=\"(.*?)\"', \"gi\"), result, res = [];\n    while ((result = regex.exec(str))) {\n        res.push(result[1]);\n    }\n    return res;\n}\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n\n  // 首页\n  async categoriesAction()\n  {\n    let items=await this.model(\"item\").order('id DESC').select();\n    var content=\"\";\n    var urls=[];\n    if(!think.isEmpty(items))\n    {\n    for (var item of items) {\n      var url=\"/\"+item.urlrewrite+\"-\"+item.id;\n      var lM=new Date(item.lastmodified);\n      var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n      var obj={url: url,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n      urls.push(obj);\n    }\n    var obj={url: \"/video\",lastmodISO:\"2017-11-20T12:26:38+07:00\",changefreq: 'weekly', priority: 0.8};\n    urls.push(obj);\n    var sm = require('sitemap');\n    content = sm.createSitemap({\n       hostname: 'http://www.tintech.vn',\n       cacheTime: 600000,  //600 sec (10 min) cache purge period\n       urls:urls\n     }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content)\n  }\n  async tagsAction()\n  {\n    let items=await this.model(\"tags\").order('id DESC').select();\n    var content=\"\";\n    var urls=[];\n    if(!think.isEmpty(items))\n    {\n    for (var item of items) {\n      var url=\"/tag/\"+item.urlrewrite+\"-\"+item.id;\n      var lM=new Date(item.lastmodified);\n      var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n      var obj={url: url,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n      urls.push(obj);\n    }\n    var sm = require('sitemap');\n    content = sm.createSitemap({\n       hostname: 'http://www.tintech.vn',\n       cacheTime: 600000,  //600 sec (10 min) cache purge period\n       urls:urls\n     }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content)\n  }\n  async sitemaparticleAction(){\nlet sitemaps=await this.model(\"sitemap\").order('id DESC').select();\n\nvar lstsm=[];\nvar content='';\nif(!think.isEmpty(sitemaps))\n{\n  var ct=new Date(sitemaps[0].lastmodified);\n  var ctlastM=ct.getFullYear() + \"-\" + ('0' + (ct.getMonth()+1)).slice(-2) + \"-\" + ('0' + ct.getDate()).slice(-2) + \"T\" + pad(ct.getHours()) + \":\" + pad(ct.getMinutes()) + \":\" + pad(ct.getSeconds())+\"+07:00\";\nlstsm=[{loc:\"http://tintech.vn/categories.xml\",lastMod:ctlastM},{loc:\"http://tintech.vn/tags.xml\",lastMod:ctlastM}];\n  for (var item of sitemaps) {\n    var ctime=new Date(item.createtime);\n    var createtime=ctime.getFullYear() + ('0' + (ctime.getMonth()+1)).slice(-2) + ('0' + ctime.getDate()).slice(-2)+\".xml\";\nconsole.log(createtime);\n    var lM=new Date(item.lastmodified);\n    var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n    var obj={loc:\"http://tintech.vn/article-\"+createtime,lastMod:lastM};\n    lstsm.push(obj);\n  }\n  //console.log(lstsm);\n  var smindex = require('sitemap-index');\n  var data=smindex.do(lstsm);\n  console.log(data);\n  if(data.status) content=data.indexes.toString();\n}\n\n//console.log(sitemaps);\n//let content = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\" xmlns:news=\"http://www.google.com/schemas/sitemap-news/0.9\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:mobile=\"http://www.google.com/schemas/sitemap-mobile/1.0\" xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\" xmlns:video=\"http://www.google.com/schemas/sitemap-video/1.1\"><url><loc>http://www.mywebsite.com/</loc><changefreq>weekly</changefreq><priority>0.8</priority> </url><url> <loc>http://www.mywebsite.com/page1</loc> <changefreq>weekly</changefreq> <priority>0.8</priority> </url><url> <loc>http://www.mywebsite.com/page2</loc> <changefreq>weekly</changefreq> <priority>0.8</priority> </url></urlset>';\nthis.header('Content-Type', 'application/xml');\nthis.end(content);\n  }\n  async articleAction()\n  {\n   var aurl=await this.get(\"aurl\");\n   var ct=aurl.substring(0, 4)+\"-\"+aurl.substring(4, 6)+\"-\"+aurl.substring(6, 8);\n   var items=await this.model(\"article\").where({createtime:['like', '%'+ct+'%'],ispublished: 1}).order('lastmodified DESC').select();;\n   var content=\"\";\n   if(!think.isEmpty(items))\n   {\n     var urls=[];\n     var imgs=[];\n     var videos=[];\n     for (var item of items) {\n       var url=\"/\"+item.itemurlrewrite+\"-\"+item.item+\"/\"+item.urlrewrite+\"-\"+item.id;\n\n      var vds=getAttrFromString(item.content, 'video', 'src');\n       var images=getAttrFromString(item.content, 'img', 'src');\n       var alts=getAttrFromString(item.content, 'img', 'alt');\n       for (var i=0;i<images.length;i++) {\n         var ig={\n            url: 'http://tintech.vn'+images[i],\n            caption: alts[i],\n            title: item.title,\n            geoLocation: 'Ho Chi Minh, Vietnam',\n            license: 'http://tintech.vn/'\n          };\n          imgs.push(ig);\n       }\n      //  for (var it of vds) {\n      //    var vd={thumbnail_loc: 'http://test.com/tmbn1.jpg', title: 'A video title', description: 'This is a video',content_loc:\"http://tintech.vn\"+it}\n      //    videos.push(vd);\n      //  }\n       var lM=new Date(item.createtime);\n       if(item.lastmodified!=\"0000-00-00 00:00:00\") lM=new Date(item.lastmodified);\n       var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n       console.log(lastM)\n      // var obj={url: url,video:videos,img:imgs,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n       var obj={url: url,img:imgs,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n       urls.push(obj);\n     }\n     var sm = require('sitemap');\n     content = sm.createSitemap({\n        hostname: 'http://www.tintech.vn',\n        //cacheTime: 600000,  //600 sec (10 min) cache purge period\n        urls:urls\n      }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content);\n  }\n  async indexAction(){\n\n      let setting=await this.model('home').findOne('system_comment');\n      // this.assign(\"demo\",\"demo\")\n      // let content = await this.fetch('admin/content/style1');\n      // console.log(content);\n      //   this.assign(\"ss\",content)\n      this.assign(\"setting\",setting);\n\n      return this.displayView('index_index');\n  }\n  async getvideoAction(){\n    let id=await this.post(\"id\");\n    console.log(\"video\"+id);\n    var item=await this.model(\"home\").findOne(\"video\",{id:id});\n    return this.success({content:item});\n  }\n  async getnewsAction(){\n    let id=await this.post(\"id\");\n    var category=await this.model(\"home\").findOne(\"item\",{id:id});\n    let lstcategory=await this.model(\"home\").findAll(\"item\",{parentid:id});\n    let categories=[category.id];\n    for(var i=0;i<lstcategory.length;i++)\n    {\n      categories.push(lstcategory[i].id);\n    }\n    var content=\"\";\n    var rejectarticles=[0];\n    if(category.itemname) {\n      if(category.style==1)\n      {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\nif(!think.isEmpty(topList)){\nvar rejectnews=[0];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n        rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n      content=await this.fetch(\"home/index/style1\");\n    }\n    }\n    else if(category.style==2)\n    {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\n      if(!think.isEmpty(topList)){\n      var rejectnews=[];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n            rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id);\n        rejectnews.push(newsList[i].id);\n      }\n      let newsList1=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n      for (var i = 0; i < newsList1.length; i++) {\n        rejectarticles.push(newsList1[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n        this.assign(\"newsList1\", newsList1);\n      content=await this.fetch(\"home/index/style2\");\n    }\n    }  else if(category.style==3)\n      {\n        let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\nif(!think.isEmpty(topList)){\n        for (var i = 0; i < topList.length; i++) {\n          rejectarticles.push(topList[i].id);\n        }\n        this.assign(\"topList\", topList);\n        content=await this.fetch(\"home/index/style3\");\n      }\n      }\n      }\n    console.log(content);\n    return this.success({content:content});\n  }\n  async menuAction(){\n    let pagenumber=this.get(\"page\")||1;\n    let pagesize=this.get(\"pagesize\")||10;\n    let aurl=await this.get(\"curl\");\n    let arrU=aurl.split('-');\n    let itemId=arrU.splice(-1, 1);\n    let urlrewrite=arrU.join(\"-\");\n\n    let category=await this.model(\"home\").findOne(\"item\",{urlrewrite:urlrewrite,id:itemId});\n    let lstcategory=await this.model(\"home\").findAll(\"item\",{parentid:itemId});\n    let categories=[category.id];\n    for(var i=0;i<lstcategory.length;i++)\n    {\n      categories.push(lstcategory[i].id);\n    }\n    console.log(category.itemname)\n    var content=\"\";\n    var rejectarticles=[0];\n    if(category.itemname) {\n      if(category.style==1)\n      {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\nif(!think.isEmpty(topList)){\nvar rejectnews=[0];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n        rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n      content=await this.fetch(\"home/index/style1\");\n    }\n    }\n    else if(category.style==2)\n    {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\n      if(!think.isEmpty(topList)){\n      var rejectnews=[];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n            rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id);\n        rejectnews.push(newsList[i].id);\n      }\n      let newsList1=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n      for (var i = 0; i < newsList1.length; i++) {\n        rejectarticles.push(newsList1[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n        this.assign(\"newsList1\", newsList1);\n      content=await this.fetch(\"home/index/style2\");\n    }\n    }  else if(category.style==3)\n      {\n        let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\nif(!think.isEmpty(topList)){\n        for (var i = 0; i < topList.length; i++) {\n          rejectarticles.push(topList[i].id);\n        }\n        this.assign(\"topList\", topList);\n        content=await this.fetch(\"home/index/style3\");\n      }\n      }\n        var parentids=[category.id];\n        if(category.parentid==0)\n        {\n           var items=await this.model(\"home\").findAll(\"item\",{parentid:category.id});\n           if(items.length>0)\n           {\n             for (var i = 0; i < items.length; i++) {\n               parentids.push(items[i].id);\n             }\n           }\n        }\n        console.log(\"reject:\"+rejectarticles);\n        let itemList = await this.model(\"home\").getPageSelect({item: [\"IN\", parentids],id:[\"NOTIN\",rejectarticles], ispublished: 1}, pagenumber, pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({\n            item: [\"IN\", parentids],\n            id:[\"NOTIN\",rejectarticles],\n            ispublished: 1\n        }, pagenumber, pagesize);\n        let Page = think.adapter(\"template\", \"page\");\n        let page = new Page(this.http);\n        let pageData = page.pagination(result);\n        this.assign('pageData', pageData);\n        this.assign(\"itemList\", itemList);\n\n        //分页\n        var cate={};\n        cate.category= category;\n        var ca=await this.model(\"home\").findOne(\"item\",{id:category.parentid});\n        if(!think.isEmpty(ca))\n        {\n          cate.categoryparent=ca;\n        }\n        this.assign('category', cate);\n        this.assign('content', content);\n        this.assign('more', 0);\n        this.assign('menu', urlrewrite+'-'+ itemId);\n        return this.displayView('index_menu');\n    }else{\n        return this.displayView(\"../common/error_404\");\n    }\n\n        //let curl=this.get(\"curl\");\n      //  console.log(\"aaaa\"+curl);\n      //  return this.displayView('index_menu');\n  }\n\n  //文章页\n  async pageAction(){\n    let aurl=this.get(\"aurl\");\n    let arrU=aurl.split('-');\n      let aid=arrU.splice(-1, 1);\n      let aurlrewrite=arrU.join(\"-\");\n      let curl=this.get(\"curl\");\n      let arrC=curl.split('-');\n      let cid=arrC.splice(-1, 1);\n      let curlrewrite=arrC.join(\"-\");\n      let menuInfo=await this.model(\"home\").findOne('item',{urlrewrite:curlrewrite,id:cid});\n      if(!think.isEmpty(menuInfo)){\n    let blogInfo=await this.model(\"home\").findOne('article',{urlrewrite:aurlrewrite,id:aid,item:cid});\n    if(!think.isEmpty(blogInfo)){\n        // 设置浏览量加1\n      //  let viewcount=await this.model(\"home\").addViewCount({id:aid});\n        //获取标签名\n        let acc=await this.model(\"home\").findOne(\"user\",{name:blogInfo.author});\n        console.log(blogInfo.author);\n          this.assign('itemname',menuInfo.itemname);\n          this.assign('blogInfo',blogInfo);\n          this.assign('acc',acc);\n          //设置文章分页\n          let html=blogInfo.content;\n          let strArray=[],particle='',ainfo='';\n          let pid=this.get('pid');\n          if(html){\n              if(html.indexOf(\"<!--page-->\")>0){\n                  strArray=html.split(\"<!--page-->\");\n                  if(pid){\n                      let id=pid*1-1;\n                      particle=strArray[id];\n                  }else{\n                      pid=1;\n                      particle=strArray[0];\n                  }\n              }\n          }\n          //关联文章\n          let relatearticle=await this.model(\"home\").getArticleList({id:['!=', aid],item:blogInfo.item,ispublished:1})\n          this.assign(\"relatearticle\",relatearticle);\n\n          var rejectarticles=[blogInfo.id];\n          for (var i = 0; i < relatearticle.length; i++) {\n            rejectarticles.push(relatearticle[i].id);\n          }\n          console.log(\"rejectarticles:\"+rejectarticles.toString());\n          let itemList = await this.model(\"article\").where({id:[\"NOTIN\",rejectarticles], ispublished: 1}).order(\"createtime DESC\").limit(10).select();\n          this.assign(\"itemList\", itemList);\n          //跳转到内容分页\n          let title=blogInfo.title||'';\n          let strArrayVal=strArray||'';\n          let particleVal=particle||'';\n\n          this.assign(\"title\",blogInfo.title);\n          this.assign('strArray',strArrayVal);\n          this.assign('particle',particleVal);\n          this.assign('pid',pid);\n          this.assign('menu',menuInfo);\n          var cate={};\n          cate.category= menuInfo;\n          var ca=await this.model(\"home\").findOne(\"item\",{id:menuInfo.parentid});\n          if(!think.isEmpty(ca))\n          {\n            cate.categoryparent=ca;\n          }\n          var source=await this.model(\"home\").findOne(\"source\",{id:blogInfo.source})\n          this.assign('category', cate);\n          this.assign('source', source);\n          let setting=await this.model('home').findOne('system_comment');\n          this.assign(\"setting\",setting);\n//comment\nlet replyList=await this.model(\"home\").getReplyListInfo({tid:aid});\nthis.assign(\"replyList\",replyList);\n\n//let topicItem=await this.model(\"topic\").findOne(\"topic_item\",{name:topicInfo.item});\n//let viewcount=await this.model(\"article\").where({id:aid}).increment('view',1);\n//this.assign('topicInfo',topicInfo);\n//this.assign(\"replycount\",blogInfo.replycount);\n//this.assign('topicItem',topicItem.comment);\n\n//account\n  let uinfo=await this.session('uInfo');\n  if(!think.isEmpty(uinfo))\n  {\n    let loginuserinfo=await this.model('home').findOne('user',{name:uinfo.name});\n    this.assign(\"loginuserinfo\",loginuserinfo);\n    //collection\n    let collectList=await this.model('home').findAll('user_collect',{aid:aid,type:'article',author:uinfo.name,iscollect:1});\n    if(collectList.length>0){\n      this.assign(\"cid\",collectList[0].id);\n      this.assign(\"iscollect\",1);\n    }else {\n      this.assign(\"cid\",\"\");\n      this.assign(\"iscollect\",0);\n    }\n  }\n  var tags=blogInfo.keywords.split(\",\");\n  var listtags={tags:[]}\n    var keywords=\"\";\n  if(!think.isEmpty(tags)){\n  for(var i=0;i<tags.length;i++)\n  {\n    if(!think.isEmpty(tags[i]))\n    {\n      var tag=await this.model(\"home\").findOne(\"tags\",{id:tags[i]});\n      listtags.tags.push({tag:JSON.parse(JSON.stringify(tag))});\n    }\n  }\n\n  if(listtags.tags.length>0)\n  {\n    for(var i=0;i<listtags.tags.length;i++)\n    {\n      if(i==(listtags.tags.length-1))keywords+=listtags.tags[i].tag.tagname\n      else keywords+=listtags.tags[i].tag.tagname+\", \"\n    }\n  }\n}\nthis.assign(\"keywords\",keywords);\nthis.assign(\"listtags\",listtags);\n          return this.displayView('index_page');\n      }\n        }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n\n    async previewAction(){\n      let aurl=this.get(\"aurl\");\n      let arrU=aurl.split('-');\n        let aid=arrU.splice(-1, 1);\n        let aurlrewrite=arrU.join(\"-\");\n        let curl=this.get(\"curl\");\n        let arrC=curl.split('-');\n        let cid=arrC.splice(-1, 1);\n        let curlrewrite=arrC.join(\"-\");\n        let menuInfo=await this.model(\"home\").findOne('item',{urlrewrite:curlrewrite,id:cid});\n        if(!think.isEmpty(menuInfo)){\n      let blogInfo=await this.model(\"home\").findOne('article',{urlrewrite:aurlrewrite,id:aid,item:cid});\n      if(!think.isEmpty(blogInfo)){\n          // 设置浏览量加1\n        //  let viewcount=await this.model(\"home\").addViewCount({id:aid});\n          //获取标签名\n          let acc=await this.model(\"home\").findOne(\"user\",{name:blogInfo.author});\n          console.log(blogInfo.author);\n          this.assign('itemname',menuInfo.itemname);\n          this.assign('blogInfo',blogInfo);\n          this.assign('acc',acc);\n          //设置文章分页\n          let html=blogInfo.content;\n          let strArray=[],particle='',ainfo='';\n          let pid=this.get('pid');\n          if(html){\n              if(html.indexOf(\"<!--page-->\")>0){\n                  strArray=html.split(\"<!--page-->\");\n                  if(pid){\n                      let id=pid*1-1;\n                      particle=strArray[id];\n                  }else{\n                      pid=1;\n                      particle=strArray[0];\n                  }\n              }\n          }\n          //关联文章\n          let relatearticle=await this.model(\"home\").getArticleList({id:['!=', aid],item:blogInfo.item,ispublished:1})\n          this.assign(\"relatearticle\",relatearticle);\n\n          var rejectarticles=[blogInfo.id];\n          for (var i = 0; i < relatearticle.length; i++) {\n            rejectarticles.push(relatearticle[i].id);\n          }\n          console.log(\"rejectarticles:\"+rejectarticles.toString());\n          let itemList = await this.model(\"article\").where({id:[\"NOTIN\",rejectarticles], ispublished: 1}).order(\"createtime DESC\").limit(10).select();\n          this.assign(\"itemList\", itemList);\n          //跳转到内容分页\n          let title=blogInfo.title||'';\n          let strArrayVal=strArray||'';\n          let particleVal=particle||'';\n\n          this.assign(\"title\",blogInfo.title);\n          this.assign('strArray',strArrayVal);\n          this.assign('particle',particleVal);\n          this.assign('pid',pid);\n          this.assign('menu',menuInfo);\n          var cate={};\n          cate.category= menuInfo;\n          var ca=await this.model(\"home\").findOne(\"item\",{id:menuInfo.parentid});\n          if(!think.isEmpty(ca))\n          {\n            cate.categoryparent=ca;\n          }\n          var source=await this.model(\"home\").findOne(\"source\",{id:blogInfo.source})\n          this.assign('category', cate);\n          this.assign('source', source);\n          let setting=await this.model('home').findOne('system_comment');\n          this.assign(\"setting\",setting);\n//comment\nlet replyList=await this.model(\"home\").getReplyListInfo({tid:aid});\nthis.assign(\"replyList\",replyList);\n\n//let topicItem=await this.model(\"topic\").findOne(\"topic_item\",{name:topicInfo.item});\n//let viewcount=await this.model(\"article\").where({id:aid}).increment('view',1);\n//this.assign('topicInfo',topicInfo);\n//this.assign(\"replycount\",blogInfo.replycount);\n//this.assign('topicItem',topicItem.comment);\n\n//account\n  let uinfo=await this.session('uInfo');\n  if(!think.isEmpty(uinfo))\n  {\n    let loginuserinfo=await this.model('home').findOne('user',{name:uinfo.name});\n    this.assign(\"loginuserinfo\",loginuserinfo);\n    //collection\n    let collectList=await this.model('home').findAll('user_collect',{aid:aid,type:'article',author:uinfo.name,iscollect:1});\n    if(collectList.length>0){\n      this.assign(\"cid\",collectList[0].id);\n      this.assign(\"iscollect\",1);\n    }else {\n      this.assign(\"cid\",\"\");\n      this.assign(\"iscollect\",0);\n    }\n  }\n  var tags=blogInfo.keywords.split(\",\");\n  var listtags={tags:[]}\n    var keywords=\"\";\n  if(!think.isEmpty(tags)){\n  for(var i=0;i<tags.length;i++)\n  {\n    if(!think.isEmpty(tags[i]))\n    {\n      var tag=await this.model(\"home\").findOne(\"tags\",{id:tags[i]});\n      listtags.tags.push({tag:JSON.parse(JSON.stringify(tag))});\n    }\n  }\n\n  if(listtags.tags.length>0)\n  {\n    for(var i=0;i<listtags.tags.length;i++)\n    {\n      if(i==(listtags.tags.length-1))keywords+=listtags.tags[i].tag.tagname\n      else keywords+=listtags.tags[i].tag.tagname+\", \"\n    }\n  }\n}\nthis.assign(\"keywords\",keywords);\nthis.assign(\"listtags\",listtags);\n          return this.displayView('index_preview');\n      }\n        }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n   //前端资讯\n    async newsAction(){\n        this.getList(2,'news');\n    }\n    //nodejs文章\n    async nodeAction(){\n        this.getList(3,'node');\n    }\n    //苹果精品软件\n    async downloadAction(){\n        this.getList(4,'download');\n    }\n    //活动\n    async activityAction(){\n        this.getList(6,'activity');\n    }\n    //大杂烩\n    async othersAction(){\n        this.getList(1,'others');\n    }\n    //招聘\n    async jobsAction(){\n        this.getList(5,'jobs');\n    }\n    //分类公用方法\n    async getList(itemId,menu){\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        //分页\n        let itemList=await this.model(\"home\").getPageSelect({item:itemId,ispublished:1},pagenumber,pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({item:itemId,ispublished:1},pagenumber,pagesize);\n        var Page=think.adapter(\"template\", \"page\");\n        var page = new Page(this.http);\n        var pageData=page.pagination(result);\n\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign('menu',menu);\n        //分页\n\n        let item=await this.model(\"home\").findOne(\"item\",{id:itemId});\n        this.assign('categoryName',item.itemname);\n        this.assign('more',0);\n        return this.displayView(\"index_item\");\n    }\n    async moreAction(){\n        let murl=this.get(\"murl\");\n        let itemId=murl.split('-')[murl.split('-').length-1];\n        let urlrewrite=murl.replace(\"-\"+itemId,\"\");\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        var items=await this.model(\"home\").findAll(\"item\",{parentid:parseInt(itemId)});\n        var lsttags=[parseInt(itemId)];\n        for (var i = 0; i < items.length; i++) {\n          console.log(items[i].id)\n          lsttags.push(items[i].id)\n        }\n        console.log(lsttags);\n        let item=await this.model(\"home\").findOne(\"item\",{urlrewrite:urlrewrite,id:['IN', lsttags]});\n        if(item.itemname) {\n        //分页\n        let itemList=await this.model(\"home\").getPageSelect({ispublished:1,item:itemId},pagenumber,pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({ispublished:1,item:itemId},pagenumber,pagesize);\n        let Page=think.adapter(\"template\", \"page\");\n        let page = new Page(this.http);\n        let pageData=page.pagination(result);\n\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign('menu','tat-ca/'+urlrewrite+'-'+ itemId);\n        //分页\n        this.assign('more',1);\n        this.assign('categoryName','全部文章');\n        return this.displayView(\"index_category\");\n      }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n    //分类\n    async categoryAction(){\n      let pagenumber=this.get(\"page\")||1;\n      let pagesize=this.get(\"pagesize\")||10;\n      let aurl=await this.get(\"aurl\");\n      let arrU=aurl.split('-');\n      let itemId=arrU.splice(-1, 1);\n      let urlrewrite=arrU.join(\"-\");\n        let category=await this.model(\"home\").findOne(\"tags\",{urlrewrite:urlrewrite,id:itemId});\n        if(category.tagname) {\n            let itemList = await this.model(\"home\").getPageSelect({keywords: [\"like\", \"%,\"+itemId.toString()+\",%\"], ispublished: 1}, pagenumber, pagesize);\n            let result = await this.model(\"home\").getPageCountSelect({\n                keywords: [\"like\", \"%,\"+itemId.toString()+\",%\"],\n                ispublished: 1\n            }, pagenumber, pagesize);\n            let Page = think.adapter(\"template\", \"page\");\n            let page = new Page(this.http);\n            let pageData = page.pagination(result);\n            console.log(\"tag\"+itemList);\n            this.assign(\"itemList\", itemList);\n            this.assign('pageData', pageData);\n            //分页\n            this.assign('category', category);\n            this.assign('more', 0);\n            this.assign('menu', 'tag/'+urlrewrite+'-'+ itemId);\n            return this.displayView('index_category');\n        }else{\n            return this.displayView(\"../common/error_404\");\n        }\n\n    }\n\n    // 友情链接提交接口\n    async linkssaveAction(){\n        let mydata =await this.post();\n        if(mydata.domain!==''&&mydata.link!==''&&mydata.qq!==''){\n          let rs=await this.model(\"home\").addRecord(\"links\",mydata);\n          if(rs) return this.success();\n        }\n    }\n    // 留言提交接口\n    async guestsaveAction(){\n        let mydata =await this.post();\n        if(mydata.nickname!==''&&mydata.contact!==''&&mydata.guest!==''){\n          let rs=await this.model(\"home\").addRecord(\"guest\",mydata);\n          if(rs) return this.success();\n        }\n    }\n    async guestAction(){\n        this.assign(\"title\",\"留言板\");\n        return this.displayView(\"index_guest\");\n    }\n    async aboutAction(){\n        this.assign(\"title\",\"关于我们\");\n        return this.displayView(\"index_about\");\n    }\n    async adsAction(){\n        this.assign(\"title\",\"推广服务\");\n        return this.displayView(\"index_ads\");\n    }\n    async copyrightAction(){\n        this.assign(\"title\",\"版权声明\");\n        return this.displayView(\"index_copyright\");\n    }\n    async linksAction(){\n        this.assign(\"title\",\"友情链接\");\n        return this.displayView(\"index_links\");\n    }\n    async policyAction(){\n        this.assign(\"title\",\"注册协议\");\n        return this.displayView(\"index_policy\");\n    }\n    async donateAction(){\n        this.assign(\"title\",\"捐赠\");\n        return this.displayView(\"index_donate\");\n    }\n    async dologoutAction(){\n             this.session(\"uInfo\",\"\");\n      return this.redirect(\"/\");\n    }\n\n    // 站点地图\n    async sitemapAction() {\n\n          //生成xml\n          let data={};\n          let sysdata=await this.model(\"home\").findOne(\"system\",{id:1});\n          //获取分类页list\n          let list=await this.model(\"home\").findAll(\"item\");\n          //获取文章列表article\n          let article=await this.model(\"home\").findAll(\"article\");\n          //获取主题帖\n          let topic=await this.model(\"home\").findAll(\"topic\");\n          //获取个人主页\n          let user=await this.model(\"home\").findAll(\"user\");\n          let others=[\n                          { id: 1, itemname: '大杂烩',url:'others.html' },\n                          { id: 2, itemname: '前端资讯',url:'news.html' },\n                          { id: 3, itemname: 'nodejs',url:'node.html' },\n                          { id: 4, itemname: '资源下载',url:'download.html' },\n                          { id: 5, itemname: '招聘',url:'jobs.html' },\n                          { id: 6, itemname: '活动',url:'activity.html' },\n                          { id: 7, itemname: '关于',url:'about.html' },\n                          { id: 8, itemname: '友情链接',url:'links.html' },\n                          { id: 9, itemname: '注册',url:'register.html' },\n                          { id: 10, itemname: '捐赠',url:'donate.html' },\n                          { id: 11, itemname: '推广服务',url:'ads.html' },\n                          { id: 12, itemname: '注册协议',url:'policy.html' },\n                          { id: 13, itemname: '版权声明',url:'copyright.html' },\n                          { id: 14, itemname: '会员登录',url:'login.html' },\n                          { id: 15, itemname: '留言板',url:'guest.html' },\n                          { id: 16, itemname: 'liblog',url:'liblog.html' }\n                     ];\n          data={\n              homeurl:sysdata.url,\n              list:list,\n              article:article,\n              others:others,\n              topic:topic,\n              user:user\n          }\n          Create.createXml(data);\n          return this.displayView(\"index_sitemap\");\n\n    }\n\n    async liblogAction(){\n      return this.displayView(\"index_liblog\");\n    }\n\n\n\n\n    async savereplyAction(){\n      console.log(\"aaa\")\n      //编辑或者新增回复\n      let marked = require('marked');\n      marked.setOptions({\n          renderer: new marked.Renderer(),\n          gfm: true,\n          tables: true,\n          breaks: true,\n          pedantic: false,\n          sanitize: true,\n          smartLists: true,\n          smartypants: false\n      });\n        let mycreatetime=think.datetime(this.post('createtime'));\n        let data=await this.post();\n        data.createtime=mycreatetime;\n        if(data.text===''){\n          return this.json({status:0,errno:1,errmsg:'Trả lời không để trống!'});\n        }else{\n          // 解析markdown\n          let html=marked(data.comment);\n          // data.comment=html;\n          if(!think.isEmpty(data.id)){\n            //编辑\n            let isexist=await this.model(\"home\").findOne(\"article_comment\",{id:data.id});\n            let tid=await this.model(\"home\").findOne(\"article\",{id:data.tid});\n            if(!think.isEmpty(isexist)&&!think.isEmpty(tid)){\n              //更新最后回复数据\n              let updata={\n                updatetime:mycreatetime,\n                updateauthor:data.author,\n                updatepic:data.pic\n              }\n              //let updatetime=await this.model(\"home\").updateRecord(\"article\",{id:data.tid},updata);\n              //更新最后回复数据\n              // 更新回复\n              let rs=await this.model(\"home\").updateRecord(\"article_comment\",{id:data.id},data);\n              if(rs) return this.success();\n            }else{\n              return this.fail(\"该主题或回复不存在或已删除！\");\n            }\n          }else{\n              console.log(\"thanh cong\");\n            //更新最后回复数据\n            let updata={\n              updatetime:mycreatetime,\n              updateauthor:data.author,\n              updatepic:data.pic\n            }\n            console.log(data.tid);\n          //  let updatetime=await this.model(\"home\").updateRecord(\"article\",{id:data.tid},updata);\n            //更新最后回复数据\n            //增加\n            console.log(\"thanh cong2\");\n            let rs=await this.model(\"article_comment\").add(data);\n            // 增加积分\n            let points=await this.model(\"home\").increpoint({name:data.author},this.config('point.addcomment'));\n            // 增加回复数\n            let replycount=await this.model(\"article\").where({id:data.tid}).increment('replycount',1);\n            if(rs) return this.success();\n          }\n        }\n    }\n    async removereplyAction(){\n        let data=await this.post();\n        let myid=data.id;\n        if(!think.isEmpty(myid)){\n            let rs=await this.model(\"article_comment\").where({id:myid}).delete();\n            // 减少回复数\n            let replycount=await this.model(\"article\").where({id:data.tid}).decrement('replycount',1);\n            if(rs) return this.success();\n        }\n    }\n    async postlikeAction(){\n        let data=await this.post();\n        let liker=data.likers;\n        let myid=data.id;\n        if(!think.isEmpty(myid)){\n            let item=await this.model(\"home\").findOne(\"article_comment\",{id:myid});\n            let arr=(!item.likers)?[]:(item.likers).split(\",\");\n            let likers=arr||[];\n            let n=likers.indexOf(liker);\n            if(n<0){\n              likers.push(liker);\n              let newlikers=likers.join(\",\");\n              let m=likers.length;\n              let rs=await this.model(\"article_comment\").where({id:myid}).update({like:m,likers:newlikers});\n              if(rs) return this.success({likeCount:m});\n            }else{\n              likers.splice(n,1);\n              let m=likers.length;\n              let newlikers=likers.join(\",\");\n              let rs=await this.model(\"article_comment\").where({id:myid}).update({like:m,likers:newlikers});\n              if(rs) return this.success({likeCount:m});\n            }\n        }\n    }\n\n}\n"
    ]
}